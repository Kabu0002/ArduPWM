[daemon]
interval = 5
pidfile = /run/afancontrol.pid
logfile = /var/log/afancontrol.log

# ---------- ARDUINO BOARD DEFINITION ----------
[arduino: myuno]
serial_url = /dev/ttyACM0
baudrate = 115200
status_ttl = 5

# ---------- TEMPERATURE SENSORS ----------
# Find your actual paths with: find /sys/class/hwmon -name "temp*_input"
[temp: cpu]
type = file
path = /sys/class/hwmon/hwmon2/temp1_input   # CHANGE THIS
min = 40
max = 75
panic = 85

[temp: mobo]
type = file
path = /sys/class/hwmon/hwmon0/temp1_input   # CHANGE THIS
min = 40
max = 65
panic = 80

# ---------- FANS (Arduino-controlled) ----------
[fan: fan1]
type = arduino
arduino_name = myuno
pwm_pin = 9
# No tacho_pin – matches your PWM-only wiring
never_stop = no
pwm_line_start = 40    # Standard for Noctua on Arduino
pwm_line_end = 245

[fan: fan2]
type = arduino
arduino_name = myuno
pwm_pin = 10
never_stop = no
pwm_line_start = 40
pwm_line_end = 245

# ---------- MAPPINGS (Temps → Fans) ----------
[mapping: cpu_fan]
fans = fan1
temps = cpu

[mapping: case_fan]
fans = fan2
temps = mobo

# Optional: both fans react to both temps with different weights
[mapping: all]
fans = fan1, fan2 * 0.7
temps = cpu, mobo
